---
title: Dev Environment
description: How to set up a local development environment for the waywo backend and frontend.
navigation.icon: i-lucide-monitor
---

# Dev Environment

## Prerequisites

| Requirement | Minimum Version |
|-------------|----------------|
| Python | 3.12+ |
| Node.js | 20+ |
| Docker & Docker Compose | Latest stable |
| Redis | Running instance (or use Docker) |

## Backend Setup

### 1. Create a Virtual Environment

```bash
python3.12 -m venv .venv
source .venv/bin/activate
```

### 2. Install Dependencies

The project uses a `pyproject.toml` with optional dependency groups.

```bash
# Core + dev tools (pytest, black, fakeredis, etc.)
pip install -e ".[dev]"

# Add Jupyter Lab support
pip install -e ".[dev,notebook]"
```

Alternatively, if you use [uv](https://github.com/astral-sh/uv):

```bash
uv venv
source .venv/bin/activate
uv pip install -e ".[dev,notebook]"
```

### 3. Environment Variables

The backend reads its configuration from environment variables. Copy the values from the `x-common-env` block in `docker-compose.yml` and adjust URLs to point at localhost:

```bash
export CELERY_BROKER_URL=redis://localhost:6379/0
export CELERY_RESULT_BACKEND=redis://localhost:6379/0
export REDIS_URL=redis://localhost:6379/0
export EMBEDDING_URL=http://localhost:8000
export RERANK_URL=http://localhost:8111
export LLM_BASE_URL=http://localhost:8002/v1
export LLM_MODEL_NAME=nvidia/NVIDIA-Nemotron-3-Nano-30B-A3B-BF16
export DATA_DIR=./data
export LOG_LEVEL=DEBUG
export PHOENIX_HOST=localhost
export PHOENIX_PORT=6006
```

::callout{type="tip"}
For convenience, put these in a `.env` file and source it. The `.env` file is gitignored by default.
::

### 4. Run the Backend

```bash
uvicorn src.main:app --host 0.0.0.0 --port 8000 --reload
```

The API is now available at `http://localhost:8000/docs` (Swagger UI).

### 5. Run Celery Worker (separate terminal)

```bash
celery -A src.celery_app worker --loglevel=info --queues=waywo --concurrency=1
```

### 6. Run Celery Beat (separate terminal)

```bash
celery -A src.celery_app beat --loglevel=info
```

## Frontend Setup

```bash
cd frontend

# Install dependencies
npm install

# Start development server
npm run dev
```

The frontend runs at `http://localhost:3000` by default and proxies API requests to `http://localhost:8008`. Override the API base URL:

```bash
NUXT_PUBLIC_API_BASE=http://localhost:8000 npm run dev
```

## Docker Compose (Full Stack)

The fastest way to run everything together:

```bash
# Start all services
make up
# or
docker compose up
```

This brings up: backend (port 8008), Redis (port 7379), Flower (port 5555), Phoenix (port 6006), Jupyter Lab (port 8888), NAT service (port 8080), and Redis Insights (port 7001).

## Recommended VS Code Extensions

| Extension | Purpose |
|-----------|---------|
| Python (ms-python.python) | Python language support, debugging |
| Pylance (ms-python.vscode-pylance) | Python type checking |
| Vue - Official (Vue.volar) | Vue 3 + TypeScript support |
| Tailwind CSS IntelliSense | Tailwind class autocomplete |
| ESLint | Frontend linting integration |
| Black Formatter | Python auto-formatting on save |
| Docker | Dockerfile / Compose file support |

## Directory Layout for Runtime Data

The following directories are created at runtime and are gitignored:

```
data/           # SQLite database files (waywo.db)
media/          # Scraped content and uploads
celery-data/    # Celery Beat schedule state
```

Make sure the `DATA_DIR` environment variable points to the correct location when running outside Docker.
