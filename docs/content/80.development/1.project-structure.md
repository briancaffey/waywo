---
title: Project Structure
description: Annotated directory tree showing every major file and folder in the waywo repository.
navigation.icon: i-lucide-folder-tree
---

# Project Structure

## Top-Level Layout

```
waywo/
├── src/                        # Python backend (FastAPI + Celery)
├── frontend/                   # Nuxt 4 single-page application
├── services/                   # Standalone model-serving microservices
├── nat/                        # NAT agent service (Go / Node)
├── notebooks/                  # Jupyter Lab notebooks
├── docs/                       # Docus documentation site
├── data/                       # SQLite database files (runtime, gitignored)
├── media/                      # Uploaded / scraped media (runtime)
├── docker-compose.yml          # Full-stack service definitions
├── Dockerfile                  # Multi-stage Python image
├── pyproject.toml              # Python project metadata & tool config
├── Makefile                    # Developer shortcuts (black, check, up)
├── waywo.yml                   # Curated list of HN post IDs to ingest
└── LICENSE                     # Apache 2.0
```

## `src/` -- Python Backend

The backend is a single Python package installed in editable mode (`pip install -e .`).

```
src/
├── main.py                     # FastAPI app — 45+ REST endpoints
├── database.py                 # SQLAlchemy engine, init_db(), vector index
├── migrate.py                  # Database migration runner
├── db_client.py                # All CRUD operations (posts, comments, projects, search)
├── db_models.py                # SQLAlchemy ORM models
├── models.py                   # Pydantic request/response models
├── celery_app.py               # Celery configuration and beat schedule
├── celery_beat.py              # Beat-specific startup
├── tasks.py                    # Celery task definitions (HN fetch, comment processing)
├── llm_config.py               # Nemotron LLM client setup (OpenAI-compatible)
├── embedding_client.py         # HTTP client for the embedding service
├── rerank_client.py            # HTTP client for the rerank service
├── hn_client.py                # Hacker News Firebase API client
├── firecrawl_client.py         # Firecrawl web scraping client
├── nat_client.py               # NAT agent service client
├── redis_client.py             # Redis helper functions
├── tracing.py                  # OpenTelemetry + Phoenix instrumentation
├── visualization.py            # Workflow execution trace HTML generation
├── workflow_server.py          # Workflow registry and factory functions
├── healthcheck.py              # Container health check script
├── celery_worker_healthcheck.py
├── celery_beat_healthcheck.py
├── migrate_redis_to_sqlite.py  # One-time migration utility
│
├── workflows/                  # LlamaIndex workflow definitions
│   ├── __init__.py
│   ├── events.py               # Pydantic Event classes passed between steps
│   ├── prompts.py              # All LLM prompt templates + WORKFLOW_STEPS registry
│   ├── waywo_project_workflow.py   # 7-step project extraction workflow
│   └── waywo_chatbot_workflow.py   # RAG chatbot workflow
│
└── test/                       # Test suite
    ├── __init__.py
    ├── conftest.py             # Shared fixtures (mock_redis, sample data, mock HN API)
    └── test_data_collection.py # Tests for models, Redis client, Celery tasks
```

## `frontend/` -- Nuxt 4 App

```
frontend/
├── app/
│   ├── app.vue                 # Root component (NuxtLayout + NuxtPage)
│   ├── layouts/
│   │   └── default.vue         # Shared page layout
│   ├── pages/                  # File-based routing
│   │   ├── index.vue           # Home page
│   │   ├── posts.vue           # Browse HN posts
│   │   ├── comments/
│   │   │   ├── index.vue       # Comment listing
│   │   │   └── [id].vue       # Single comment detail
│   │   ├── projects/
│   │   │   ├── index.vue       # Project listing with filters
│   │   │   └── [id].vue       # Single project detail
│   │   ├── search.vue          # Semantic search interface
│   │   ├── chat.vue            # RAG chatbot
│   │   ├── admin.vue           # Admin dashboard (stats, service health)
│   │   ├── debug.vue           # Debug tools page
│   │   └── prompts.vue         # Inspect all workflow prompt templates
│   ├── components/             # Vue components (shadcn/ui + custom)
│   └── lib/
│       └── utils.ts            # Shared utility functions
├── nuxt.config.ts
├── eslint.config.mjs
├── package.json
└── tsconfig.json
```

## `services/` -- Model-Serving Microservices

Each service is a standalone FastAPI app with its own `pyproject.toml`.

```
services/
├── embedding-service/          # llama-embed-nemotron-8b wrapper
│   ├── main.py
│   ├── pyproject.toml
│   └── sample.py
├── rerank-service/             # llama-nemotron-rerank-1b wrapper
│   ├── main.py
│   ├── pyproject.toml
│   └── sample.py
└── speech-to-text/             # Speech-to-text service
    ├── main.py
    └── pyproject.toml
```

## `notebooks/`

```
notebooks/
└── getting_started.ipynb       # Interactive walkthrough of the data pipeline
```

## Key Configuration Files

| File | Purpose |
|------|---------|
| `pyproject.toml` | Python dependencies, Black/isort/pytest/coverage config |
| `docker-compose.yml` | 9 services: backend, celery-worker, celery-beat, flower, redis, phoenix, jupyter, nat, migrate |
| `Makefile` | `make black`, `make check`, `make up` |
| `waywo.yml` | List of HN post IDs with year/month metadata |
| `frontend/nuxt.config.ts` | Nuxt modules, runtime config, API base URL |
| `frontend/eslint.config.mjs` | ESLint with `@nuxt/eslint` preset |
