---
title: Voice
description: REST endpoints for voice thread management and TTS voice listing, plus the WebSocket voice chat endpoint.
navigation.icon: i-lucide-audio-waveform
---

# Voice

The voice API provides thread CRUD for managing voice conversations and a TTS voice listing endpoint. The real-time voice chat itself runs over a WebSocket connection.

## List Voices

```
GET /api/voice/voices
```

Returns all available TTS voices parsed from the NVIDIA Magpie NIM service, grouped by language.

**Response:** `200 OK`

```json
{
  "voices": [
    {
      "id": "Magpie-Multilingual.EN-US.Mia.Happy",
      "language": "EN-US",
      "speaker": "Mia",
      "emotion": "Happy",
      "label": "Mia (Happy)"
    }
  ]
}
```

## List Threads

```
GET /api/voice/threads
```

**Query Parameters:**

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `limit` | `int` | `50` | Max threads (1-200) |
| `offset` | `int` | `0` | Pagination offset |
| `q` | `string` | -- | Search by title (case-insensitive) |

**Response:** `200 OK`

```json
{
  "threads": [
    {
      "id": "a1b2c3d4-...",
      "title": "Rust CLI Tools",
      "system_prompt": null,
      "created_at": "2025-01-15T10:00:00",
      "updated_at": "2025-01-15T10:05:00",
      "turns": []
    }
  ],
  "total": 12
}
```

## Create Thread

```
POST /api/voice/threads
```

**Body (optional):**

```json
{ "title": "My Conversation" }
```

Defaults to `"New conversation"` if omitted.

**Response:** `201 Created` -- Thread object.

## Get Thread

```
GET /api/voice/threads/{thread_id}
```

Returns the thread with all its turns.

**Response:** `200 OK` -- Thread object with `turns` array populated.

**Error:** `404` if not found.

## Update Thread

```
PUT /api/voice/threads/{thread_id}
```

**Body:**

```json
{ "title": "New Title" }
```

**Response:** `200 OK` -- Updated thread object.

**Error:** `404` if not found.

## Delete Thread

```
DELETE /api/voice/threads/{thread_id}
```

Deletes the thread and all turns (cascade).

**Response:** `200 OK`

```json
{ "ok": true }
```

**Error:** `404` if not found.

## WebSocket: Voice Chat

```
WebSocket /ws/voice-chat?thread_id=<uuid>
```

Real-time voice chat with bidirectional audio streaming. If `thread_id` is omitted, a new thread is created automatically.

::tip
See [Voice Mode WebSocket Protocol](/voice-mode/websocket-protocol) for the full message format, state machine, and debug events.
::
