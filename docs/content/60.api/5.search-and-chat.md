---
title: Search & Chat
description: Semantic search over project embeddings and RAG chatbot endpoints for conversational project discovery.
navigation.icon: i-lucide-search
---

# Search & Chat

Waywo provides two AI-powered retrieval modes: **semantic search** for finding similar projects by meaning, and a **RAG chatbot** for asking natural-language questions about the project index. Both rely on vector embeddings generated by the `llama-embed-nemotron-8b` model and optional reranking via `llama-nemotron-rerank-1b`.

## Semantic Search

Embed a query and find the most similar projects using cosine similarity over the vector index. When reranking is enabled (the default), the API fetches 3x candidates and re-scores them with the rerank model for improved relevance.

```
POST /api/semantic-search
```

**Request Body:**

```json
{
  "query": "command line tools written in Rust",
  "limit": 5,
  "use_rerank": true
}
```

| Field | Type | Default | Description |
|---|---|---|---|
| `query` | `string` | *required* | Search query text (min 1 character) |
| `limit` | `int` | `10` | Maximum results to return (1-50) |
| `use_rerank` | `bool` | `true` | Whether to rerank results for better relevance |

**Response:** `200 OK`

```json
{
  "results": [
    {
      "project": {
        "id": 42,
        "title": "RustCLI Framework",
        "short_description": "Ergonomic CLI framework for Rust",
        "description": "A framework for building command-line applications in Rust with auto-generated help and completions.",
        "hashtags": ["rust", "cli", "devtools"],
        "idea_score": 8,
        "complexity_score": 6,
        "is_valid_project": true,
        "is_bookmarked": false
      },
      "similarity": 0.8932,
      "rerank_score": 0.9541
    }
  ],
  "query": "command line tools written in Rust",
  "total": 5,
  "reranked": true
}
```

| Field | Type | Description |
|---|---|---|
| `results[].similarity` | `float` | Cosine similarity score (0-1) |
| `results[].rerank_score` | `float \| undefined` | Rerank relevance score (present only when reranking succeeded) |
| `reranked` | `bool` | Whether reranking was applied |

**Error:** `503` if the embedding service is unavailable.

## RAG Chatbot

Ask a natural-language question and receive an AI-generated answer grounded in the project index. The chatbot workflow embeds the query, retrieves candidates, reranks them, and prompts the LLM with the project context to generate a conversational response.

```
POST /api/waywo-chatbot
```

**Request Body:**

```json
{
  "query": "What are some interesting AI projects people are building?",
  "top_k": 5
}
```

| Field | Type | Default | Description |
|---|---|---|---|
| `query` | `string` | *required* | User's question or message (min 1 character) |
| `top_k` | `int` | `5` | Number of projects to use as context (1-20) |

**Response:** `200 OK`

```json
{
  "response": "There are several interesting AI projects in the index. One user built a local RAG system for personal documents using LlamaIndex...",
  "source_projects": [
    {
      "id": 101,
      "title": "LocalRAG",
      "description": "A local RAG system for searching personal documents"
    }
  ],
  "query": "What are some interesting AI projects people are building?",
  "projects_found": 5
}
```

| Field | Type | Description |
|---|---|---|
| `response` | `string` | AI-generated conversational answer |
| `source_projects` | `array` | Projects used as context for the answer |
| `projects_found` | `int` | Number of projects retrieved for context |

**Error:** `500` if the chatbot workflow fails (LLM or embedding service issues).

## Search Statistics

Get statistics about embedding coverage across the project index.

```
GET /api/semantic-search/stats
```

**Parameters:** None

**Response:** `200 OK`

```json
{
  "total_projects": 1200,
  "projects_with_embeddings": 1150,
  "embedding_coverage": 95.8
}
```

| Field | Type | Description |
|---|---|---|
| `total_projects` | `int` | Total project records in the database |
| `projects_with_embeddings` | `int` | Projects that have vector embeddings |
| `embedding_coverage` | `float` | Percentage of projects with embeddings |

## Embedding Service Health

Check whether the embedding service (`llama-embed-nemotron-8b`) is reachable.

```
GET /api/embedding/health
```

**Response:** `200 OK`

```json
{
  "status": "healthy",
  "url": "http://192.168.5.96:8000"
}
```

**Response:** `503 Service Unavailable`

```json
{
  "status": "unhealthy",
  "message": "Embedding service is not reachable",
  "url": "http://192.168.5.96:8000"
}
```

## Rerank Service Health

Check whether the rerank service (`llama-nemotron-rerank-1b`) is reachable.

```
GET /api/rerank/health
```

**Response:** `200 OK`

```json
{
  "status": "healthy",
  "url": "http://192.168.5.173:8111"
}
```

**Response:** `503 Service Unavailable`

```json
{
  "status": "unhealthy",
  "message": "Rerank service is not reachable",
  "url": "http://192.168.5.173:8111"
}
```
