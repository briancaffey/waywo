---
title: Monitoring
description: Monitoring dashboards, health check endpoints, and Docker health checks available in the Waywo stack.
navigation.icon: i-lucide-activity
---

# Monitoring

Waywo ships with several monitoring tools and health check endpoints for observing system state during development and operation.

## Monitoring Dashboards

| Tool | URL | What It Monitors |
|------|-----|-----------------|
| **Flower** | [http://localhost:5555](http://localhost:5555) | Celery tasks, workers, queues, task history and timing |
| **Phoenix** | [http://localhost:6006](http://localhost:6006) | LLM calls, embedding requests, OpenTelemetry traces |
| **Redis Insights** | [http://localhost:7001](http://localhost:7001) | Redis state, keys, memory usage, slow queries |
| **Swagger UI** | [http://localhost:8008/docs](http://localhost:8008/docs) | Interactive API endpoint testing and documentation |
| **Jupyter Lab** | [http://localhost:8888](http://localhost:8888) | Notebooks for ad-hoc data exploration and debugging |

### Flower

Flower provides real-time visibility into Celery task execution. Use it to check whether tasks are being picked up, how long they take, and whether any have failed. The **Tasks** tab shows individual task runs. The **Workers** tab shows connected workers and their status. The **Queues** tab confirms that the `waywo` queue is active.

### Phoenix

Phoenix collects OpenTelemetry traces from LlamaIndex workflows. Every LLM call, embedding request, and workflow step is traced. Use it to inspect prompt content, token usage, latency per step, and trace waterfall views. Phoenix also collects traces on the gRPC endpoint at port `4317`.

### Redis Insights

The Redis Stack image bundles Redis Insights on port `8001` (mapped to host port `7001`). Use it to browse keys, inspect Celery task metadata, check memory consumption, and monitor connected clients.

## Health Check Endpoints

These HTTP endpoints are served by the backend on port `8008`:

| Endpoint | Method | What It Checks |
|----------|--------|---------------|
| `/api/health` | GET | Backend application is running |
| `/api/embedding/health` | GET | Embedding service is reachable |
| `/api/rerank/health` | GET | Rerank service is reachable |
| `/api/nat/health` | GET | NAT service is reachable |
| `/api/admin/services-health` | GET | Combined health of LLM, embedding, rerank, TTS, STT, and content safety services |

### `/api/admin/services-health`

Returns a JSON object with the status of each external AI service:

```json
{
  "llm": {
    "status": "healthy",
    "url": "http://192.168.6.19:8002/v1",
    "configured_model": "nvidia/NVIDIA-Nemotron-3-Nano-30B-A3B-BF16",
    "available_models": ["nvidia/NVIDIA-Nemotron-3-Nano-30B-A3B-BF16"]
  },
  "embedder": {
    "status": "healthy",
    "url": "http://192.168.5.96:8000"
  },
  "reranker": {
    "status": "healthy",
    "url": "http://192.168.5.173:8111",
    "device": "cuda"
  },
  "content_safety": {
    "status": "healthy",
    "url": "http://192.168.5.253:8085",
    "models": ["nvidia/Nemotron-Content-Safety-Reasoning-4B"]
  }
}
```

An unhealthy service will include an `error` field with the failure reason.

### Quick health check from the command line

```bash
# Backend
curl -s http://localhost:8008/api/health | jq .

# All AI services at once
curl -s http://localhost:8008/api/admin/services-health | jq .
```

## Docker Health Checks

The following services have Docker-level health checks configured. These are used by `depends_on` conditions and are visible in `docker compose ps`:

| Service | Health Check Method | Interval | Start Period |
|---------|-------------------|----------|-------------|
| **redis** | `redis-cli ping` | 10s | 30s |
| **backend** | Python healthcheck script | 30s | 30s |
| **celery-worker** | Python healthcheck script | 30s | 40s |
| **celery-beat** | Python healthcheck script | 30s | 20s |
| **flower** | `wget --spider http://localhost:5555/` | 30s | 60s |
| **nat** | `curl -f http://localhost:8080/health` | 30s | 60s |

::note
Phoenix and Jupyter do not have Docker health checks configured. Their availability can be verified by accessing their web UIs directly.
::

### Checking container health status

```bash
docker compose ps
```

The `STATUS` column will show `healthy`, `unhealthy`, or `health: starting` for services with health checks configured.

## Useful Log Commands

```bash
# Follow all logs
docker compose logs -f

# Follow a specific service
docker compose logs -f celery-worker

# Show last 100 lines for backend
docker compose logs --tail=100 backend

# Filter for errors across all services
docker compose logs | grep -i error
```
