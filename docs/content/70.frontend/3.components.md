---
title: Components
description: Component organization, shadcn/ui base components, and custom waywo components.
navigation.icon: i-lucide-component
---

# Components

Components are organized into three directories under `frontend/app/components/`:

```
components/
  ui/          # shadcn/ui base components (auto-imported)
  waywo/       # Custom application-specific components (Waywo prefix)
  voice/       # Voice Mode components (Voice prefix)
```

## shadcn/ui Components (`components/ui/`)

These are generated base components from [shadcn-vue](https://www.shadcn-vue.com/), built on top of [Reka UI](https://reka-ui.com/) primitives. They are auto-imported by the `shadcn-nuxt` module with no prefix (configured in `nuxt.config.ts`).

### Installed Components

| Component | Files | Used For |
|-----------|-------|----------|
| Accordion | 4 | Collapsible content sections |
| Alert | 3 | Status messages, errors, success notifications |
| Alert Dialog | 9 | Confirmation dialogs |
| Aspect Ratio | 1 | Maintaining image proportions |
| Auto Form | 12 | Auto-generated forms from Zod schemas |
| Avatar | 3 | User profile images |
| Badge | 1 | Tags, scores, status indicators |
| Breadcrumb | 7 | Navigation breadcrumbs |
| Button | 1 | Primary UI interaction element |
| Calendar | 13 | Date selection |
| Card | 7 | Content containers (used on every page) |
| Carousel | 5 | Scrollable content |
| Chart | 5 | Chart tooltips, legends, crosshairs |
| Chart Area | 1 | Area chart visualization |
| Chart Bar | 1 | Bar chart (used in Posts page) |
| Chart Donut | 1 | Donut chart visualization |
| Chart Line | 1 | Line chart visualization |
| Checkbox | 1 | Boolean inputs |
| Collapsible | 3 | Expandable sections (filters, project details) |
| Combobox | 11 | Tag autocomplete on Projects page |
| Command | 9 | Command palette |
| Context Menu | 15 | Right-click menus |
| Dialog | 11 | Modal dialogs |
| Drawer | 9 | Slide-out panels |
| Dropdown Menu | 14 | Dropdown menus |
| Form | 6 | Form field wrappers with VeeValidate |
| Hover Card | 3 | Hover information popups |
| Input | 1 | Text inputs |
| Label | 1 | Form labels |
| Menubar | 15 | Menu bars |
| Navigation Menu | 8 | Navigation menus |
| Number Field | 5 | Numeric inputs |
| Pagination | 8 | Paginated navigation |
| Pin Input | 4 | Code/PIN entry |
| Popover | 4 | Popup content |
| Progress | 1 | Progress bars |
| Radio Group | 2 | Radio button groups |
| Range Calendar | 12 | Date range selection |
| Resizable | 3 | Resizable panels |
| Scroll Area | 2 | Custom scrollable containers |
| Select | 11 | Dropdown selects |
| Separator | 1 | Visual dividers |
| Sheet | 9 | Slide-out sheets |
| Sidebar | 24 | Application sidebar layout |
| Skeleton | 1 | Loading placeholders |
| Slider | 1 | Range sliders (score filters) |
| Sonner | 1 | Toast notifications |
| Stepper | 7 | Multi-step wizards |
| Switch | 1 | Toggle switches |
| Table | 9 | Data tables (Posts page) |
| Tabs | 4 | Tabbed content |
| Tags Input | 5 | Tag entry |
| Textarea | 1 | Multi-line text input |
| Toggle | 1 | Toggle buttons |
| Toggle Group | 2 | Grouped toggles |
| Tooltip | 4 | Hover tooltips |

### Adding New shadcn Components

To add a new shadcn component:

```bash
cd frontend
npx shadcn-vue@latest add [component-name]
```

This generates component files in `app/components/ui/[component-name]/` with an `index.ts` barrel export. Components are immediately available for use anywhere in the application without manual imports.

### shadcn Configuration

Configured in `nuxt.config.ts`:

```ts
shadcn: {
  prefix: '',                          // No prefix (use <Button>, not <ShadcnButton>)
  componentDir: './app/components/ui'  // Component output directory
}
```

## Custom Components (`components/waywo/`)

Application-specific components are registered with the `Waywo` prefix via the Nuxt components configuration:

```ts
// nuxt.config.ts
components: [
  {
    path: '~/components/waywo',
    prefix: 'Waywo',
    extensions: ['.vue'],
  },
]
```

### Available Components

#### `PostsChart.vue`

Bar chart displaying comment counts per monthly HN post. Built with the shadcn `BarChart` component (which wraps Unovis).

- Fetches data from `GET /api/waywo-posts/chart-data`
- Exposes a `refresh()` method via `defineExpose` for parent components to trigger data reload
- Uses a custom tooltip component (`PostsChartTooltip`)

**Usage:**
```vue
<PostsChart ref="postsChartRef" class="mb-8" />

<!-- Refresh from parent -->
<script setup>
const postsChartRef = ref(null)
postsChartRef.value?.refresh()
</script>
```

#### `PostsChartTooltip.vue`

Custom tooltip for the PostsChart bar chart. Displays "Stored" and "Total" comment counts when hovering over chart bars.

**Props:**
- `title` -- Tooltip header text (the post label)
- `data` -- Array of `{ name, color, value }` objects from the chart

## Voice Components (`components/voice/`)

Voice Mode components are registered with the `Voice` prefix via `nuxt.config.ts`:

```ts
{
  path: '~/components/voice',
  prefix: 'Voice',
  extensions: ['.vue'],
}
```

#### `Button.vue` (used as `<VoiceButton>`)

Large circular hold-to-talk button with state-dependent CSS animations. Emits `press` and `release` events.

- **Idle** — Static circle
- **Listening** — Pulsing ping animation
- **Processing** — Spinning animation
- **Speaking** — Pulse animation

#### `DebugPanel.vue` (used as `<VoiceDebugPanel>`)

Right-side collapsible panel (400px) showing real-time event telemetry. Features a metrics bar (STT/LLM/TTS/Total ms), category filter pills, and a scrollable event timeline with auto-scroll.

#### `ThreadSidebar.vue` (used as `<VoiceThreadSidebar>`)

Left-side collapsible panel (288px) listing voice chat threads sorted by most recent. Supports creating new threads, selecting existing ones, and deleting threads. Shows relative timestamps.

::tip
See [Voice Mode Frontend](/voice-mode/frontend) for full composable and component documentation.
::

## Component Patterns

### API Data Fetching

All components follow the same pattern for API calls:

```ts
const config = useRuntimeConfig()

async function fetchData() {
  isLoading.value = true
  try {
    const response = await $fetch(`${config.public.apiBase}/api/endpoint`)
    data.value = response
  } catch (err) {
    error.value = 'Failed to fetch data.'
  } finally {
    isLoading.value = false
  }
}

onMounted(() => {
  fetchData()
})
```

### Loading / Error / Empty States

Every data-driven section handles three states:

1. **Loading** -- Spinning `lucide:loader-2` icon
2. **Error** -- Red alert with retry button
3. **Empty** -- Muted icon with descriptive message and action link
